<!DOCTYPE html>
<html lang="pt-br">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Relatos</title>
    <link rel="stylesheet" href="relatos.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css">
</head>

<body>
    <header>
        <img src="logo.png" alt="logo" class="logo">

        <nav class="menu-lateral">
            <div class="btn-expandir">
                <i class="bi bi-list"></i>
            </div>
            <ul>
                <li class="item-menu">
                    <a href="../homepage/home.html"><span class="icon"><i class="bi bi-house"></i></span>
                        <span class="txt-link">Home</span>
                    </a>
                </li>
                <li class="item-menu">
                    <a href="../menu/chat.html"><span class="icon"><i class="bi bi-chat-dots"></i></span>
                        <span class="txt-link">Comunidade PENALMED</span>
                    </a>
                </li>
                <li class="item-menu">
                    <a href="../menu/leis.html"><span class="icon"><i class="bi bi-book"></i></span>
                        <span class="txt-link">Leis e artigos</span>
                    </a>
                </li>
            </ul>
        </nav>

        <div class="auth-buttons">
            <a href="file:///C:/Users/User/OneDrive/%C3%81rea%20de%20Trabalho/PENALMED/login/login.html"
                class="btn">Cadastrar</a>
            <a href="file:///C:/Users/User/OneDrive/%C3%81rea%20de%20Trabalho/PENALMED/login/login.html"
                class="btn">Entrar</a>
        </div>
    </header>

    <section class="main-container">

        <div class="container">
            <p>Ler relatos</p>
            <main id="postContainer">
            <!-- PROVAVELMENTE AQUI CHAMAR A FUNÇÃO DE LOADPOSTS -->

            </main>
            <button id="loadMoreButton">Ler mais</button>
        </div>

        <main class="container2">
            <p>Postar relato</p>
            <form id="relatos1" enctype="multipart/form-data">
                <label for="titulo">Título</label>
                <input type="text" id="titulo" name="titulo"> <!-- Adicione o atributo name -->

                <label for="nome">Nome</label>
                <input type="text" id="nome" name="nome"> <!-- Adicione o atributo name -->

                <label for="imagem">Adicionar Imagem</label>
                <input type="file" id="imagem" name="imagem" multiple> <!-- Isso já está correto -->

                <div id="previewContainer"></div> <!-- Div para prévia das imagens -->

                <label for="texto">Escreva seu relato aqui</label>
                <textarea id="texto" name="texto"></textarea> <!-- Adicione o atributo name -->

                <button id="enviar" type="button">Enviar meu relato</button>
                
            </form>
            <div id="relatosDiv"></div>
        </main>
    </section>

    <script src="relatos.js"></script>
    <script>
        document.getElementById('imagem').addEventListener('change', function (event) {
            const previewContainer = document.getElementById('previewContainer');
            previewContainer.innerHTML = ''; // Limpa as prévias anteriores

            const files = event.target.files;

            for (let i = 0; i < files.length; i++) {
                const file = files[i];
                const reader = new FileReader();

                reader.onload = function (e) {
                    const img = document.createElement('img');
                    img.src = e.target.result;
                    img.style.width = '100px'; // Ajuste o tamanho conforme necessário
                    img.style.margin = '5px'; // Espaçamento entre as imagens
                    previewContainer.appendChild(img);
                    const editButton = document.createElement('button')
                }

                reader.readAsDataURL(file);
            }
        });
    </script>

</body>

</html>